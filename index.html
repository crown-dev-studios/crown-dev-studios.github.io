<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Crown Dev Studios</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
      font-size: 12px;
      font-weight: 300;
      line-height: 1.6;
      margin: 0;
      padding: 2rem;
      box-sizing: border-box;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100svh;
      background-color: var(--bg-color, #f5f5f5);
      color: var(--foreground-color, #101010);
      transition: background-color 3s ease-in-out, color .3s ease-in-out;
    }

    h1,
    p {
      margin: 0;
    }

    h1 {
      font-size: 1rem;
      font-weight: 500;
    }

    a {
      color: inherit;
      text-underline-position: below;
      text-underline-offset: 3px;
    }

    .cursor {
      position: absolute;
      top: 0;
      left: 0;
      width: 42px;
      height: 42px;
      background-color: var(--bg-color);
      pointer-events: none;
      mix-blend-mode: difference;
    }
  </style>
</head>

<body>
  <h1>crown dev studios</h1>
  <p>software consultancy</p>
  <p>contact <a href="mailto:hi@crown.dev">hi@crown.dev</a></p>
  <script>
    const container = document.querySelector('body');
    const bgColorVar = '--bg-color';
    const foregroundColorVar = '--foreground-color';

    let bgColor = '#f5f5f5';

    let lastX = 0;
    let lastY = 0;

    const cursor = document.createElement('div');

    cursor.classList.add('cursor');
    container.appendChild(cursor);

    document.addEventListener('mousemove', (event) => {
      const x = event.clientX - 21;
      const y = event.clientY - 21;

      cursor.style.left = `${x}px`;
      cursor.style.top = `${y}px`;
    });

    function updateColors() {
      const newBgColor = getRandomColor();

      const textColor = getForegroundColorForBackground(newBgColor);

      container.style.setProperty(bgColorVar, newBgColor);
      container.style.setProperty(foregroundColorVar, textColor);
    }

    function getRandomColor() {
      const letters = '0123456789ABCDEF';
      let color = '#';
      for (let i = 0; i < 6; i++) {
        color += letters[Math.floor(Math.random() * 16)];
      }
      return color;
    }

    function getForegroundColorForBackground(bgColor) {
      const luminance = (0.299 * parseInt(bgColor.slice(1, 3), 16) +
        0.587 * parseInt(bgColor.slice(3, 5), 16) +
        0.114 * parseInt(bgColor.slice(5, 7), 16)) / 255;
      return luminance > 0.5 ? 'black' : 'white';
    }

    setInterval(updateColors, 8000);
  </script>
</body>

</html>